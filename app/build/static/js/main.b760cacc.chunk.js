(this["webpackJsonpcomfama-app"]=this["webpackJsonpcomfama-app"]||[]).push([[0],[,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(4),a=n.n(c),r=n(2),s=n(1),i="https://api.jikan.moe/v3",o=(n(9),n(10),n(0)),l=function(e){var t=e.element,n=t.image_url,c=t.title,a=t.recommendation;return Object(o.jsxs)("div",{className:"carousel__item",children:[Object(o.jsx)("img",{src:n,alt:c}),Object(o.jsx)("div",{className:"carousel__item-content",children:Object(o.jsx)("h3",{children:c})}),Object(o.jsx)("div",{className:"carousel__item-recommendation",children:Object(o.jsx)("h3",{children:a})})]})},u=function(e){var t=e.data,n=Object(s.useState)(1),c=Object(r.a)(n,2),a=c[0],i=c[1],u=Object(s.useRef)(),j=t.length/5;return Object(o.jsxs)("div",{className:"carousel",children:[Object(o.jsx)("div",{ref:u,className:"carousel__listitems",children:t.map((function(e){return Object(o.jsx)(l,{element:e},e.mal_id)}))}),Object(o.jsxs)("div",{className:"carousel__menu",children:[Object(o.jsx)("button",{onClick:function(){var e=u.current.getBoundingClientRect().width;u.current.style.transition="1s ease-out all",1===a?(u.current.style.transform="translateX(-".concat(e*(j-1),"px)"),i(j)):(u.current.style.transform="translateX(-".concat(e*(a-2),"px)"),i(a-1))},type:"button",className:"carousel__menu-left",children:"<"}),Object(o.jsx)("button",{onClick:function(){if(u.current.children.length>0){var e=u.current.getBoundingClientRect().width;u.current.style.transition="1s ease-out all",a===j?(u.current.style.transform="translateX(0px)",i(1)):(u.current.style.transform="translateX(-".concat(e*a,"px)"),i(a+1))}},type:"button",className:"carousel__menu-right",children:">"})]})]})},j=(n(12),function(e){var t=e.animes,n="".concat("http://localhost:3005/api/anime","/recommendation");return fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({animes:t})}).then((function(e){return e.json()}))}),m=function(e){var t=e.toggleSearch,n=Object(s.useState)(""),c=Object(r.a)(n,2),a=c[0],l=c[1],u=Object(s.useState)([]),m=Object(r.a)(u,2),h=m[0],d=m[1],b=""!==a&&h.length>0?"block":"none";return Object(o.jsxs)("div",{className:"search",children:[Object(o.jsxs)("div",{className:"search__input",children:[Object(o.jsx)("input",{type:"text",placeholder:"Buscar un anime...",value:a,onChange:function(e){return l(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&""!==a&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=void 0===t?"anime":t,c=e.query,a=void 0===c?"":c,r="".concat(i,"/search/").concat(n,"?q=").concat(a,"&page=1");return fetch(r).then((function(e){return e.json()})).then((function(e){return e.results}))}({query:a.toLowerCase()}).then((function(e){e&&j({animes:e}).then((function(e){d(e),t(!0)}))}))}}),Object(o.jsx)("button",{onClick:function(){d([]),l(""),t(!1)},style:{display:b},type:"button",children:"X"})]}),Object(o.jsx)("div",{className:"search__listitems",children:h.map((function(e){return Object(o.jsxs)("div",{className:"search__item",children:[Object(o.jsx)("img",{src:e.image_url,alt:e.title}),Object(o.jsx)("div",{className:"search__item-content",children:Object(o.jsx)("h3",{children:e.title})}),Object(o.jsx)("div",{className:"search__item-recommendation",children:Object(o.jsx)("h3",{children:e.recommendation})})]},e.mal_id)}))})]})};n(13);var h=function(){var e=Object(s.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(!1),l=Object(r.a)(a,2),h=l[0],d=l[1];return Object(s.useEffect)((function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=void 0===t?"anime":t,c=e.page,a=void 0===c?1:c,r="".concat(i,"/top/").concat(n,"/").concat(a);return fetch(r).then((function(e){return e.json()})).then((function(e){return e.top}))})().then((function(e){j({animes:e}).then((function(e){c(e)}))}))}),[]),Object(o.jsx)("main",{className:"container__main",children:Object(o.jsxs)("div",{className:"container__anime",children:[Object(o.jsx)(m,{toggleSearch:function(e){return d(e)}}),!h&&Object(o.jsx)(u,{data:n})]})})};a.a.render(Object(o.jsx)(h,{}),document.getElementById("app"))}],[[14,1,2]]]);
//# sourceMappingURL=main.b760cacc.chunk.js.map