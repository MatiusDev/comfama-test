{"ast":null,"code":"import _slicedToArray from\"/root/Documents/Workspaces/tests/comfama/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useRef,useState}from'react';import'../styles/Carousel.css';import CarouselItem from'./CarouselItem';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Carousel=function Carousel(_ref){var data=_ref.data;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var itemsRef=useRef();var maxPages=data.length/5;var nextPage=function nextPage(){if(itemsRef.current.children.length>0){var slideSize=itemsRef.current.getBoundingClientRect().width;itemsRef.current.style.transition='1s ease-out all';if(page===maxPages){itemsRef.current.style.transform='translateX(0px)';setPage(1);}else{itemsRef.current.style.transform=\"translateX(-\".concat(slideSize*page,\"px)\");setPage(page+1);}}};var previousPage=function previousPage(){var slideSize=itemsRef.current.getBoundingClientRect().width;itemsRef.current.style.transition='1s ease-out all';if(page===1){itemsRef.current.style.transform=\"translateX(-\".concat(slideSize*(maxPages-1),\"px)\");setPage(maxPages);}else{itemsRef.current.style.transform=\"translateX(-\".concat(slideSize*(page-2),\"px)\");setPage(page-1);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"carousel\",children:[/*#__PURE__*/_jsx(\"div\",{ref:itemsRef,className:\"carousel__listitems\",children:data.map(function(el){return/*#__PURE__*/_jsx(CarouselItem,{element:el},el.mal_id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"carousel__menu\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:previousPage,type:\"button\",className:\"carousel__menu-left\",children:\"<\"}),/*#__PURE__*/_jsx(\"button\",{onClick:nextPage,type:\"button\",className:\"carousel__menu-right\",children:\">\"})]})]});};export default Carousel;","map":{"version":3,"sources":["/root/Documents/Workspaces/tests/comfama/app/src/components/Carousel.jsx"],"names":["useRef","useState","CarouselItem","Carousel","data","page","setPage","itemsRef","maxPages","length","nextPage","current","children","slideSize","getBoundingClientRect","width","style","transition","transform","previousPage","map","el","mal_id"],"mappings":"+JAAA,OAASA,MAAT,CAAiBC,QAAjB,KAAiC,OAAjC,CAGA,MAAO,wBAAP,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAc,IAAXC,CAAAA,IAAW,MAAXA,IAAW,CAC7B,cAAwBH,QAAQ,CAAC,CAAD,CAAhC,wCAAOI,IAAP,eAAaC,OAAb,eACA,GAAMC,CAAAA,QAAQ,CAAGP,MAAM,EAAvB,CACA,GAAMQ,CAAAA,QAAQ,CAAGJ,IAAI,CAACK,MAAL,CAAc,CAA/B,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrB,GAAIH,QAAQ,CAACI,OAAT,CAAiBC,QAAjB,CAA0BH,MAA1B,CAAmC,CAAvC,CAA0C,CACxC,GAAMI,CAAAA,SAAS,CAAGN,QAAQ,CAACI,OAAT,CAAiBG,qBAAjB,GAAyCC,KAA3D,CACAR,QAAQ,CAACI,OAAT,CAAiBK,KAAjB,CAAuBC,UAAvB,CAAoC,iBAApC,CACA,GAAIZ,IAAI,GAAKG,QAAb,CAAuB,CACrBD,QAAQ,CAACI,OAAT,CAAiBK,KAAjB,CAAuBE,SAAvB,CAAmC,iBAAnC,CACAZ,OAAO,CAAC,CAAD,CAAP,CACD,CAHD,IAGO,CACLC,QAAQ,CAACI,OAAT,CAAiBK,KAAjB,CAAuBE,SAAvB,uBAAkDL,SAAS,CAAGR,IAA9D,QACAC,OAAO,CAACD,IAAI,CAAG,CAAR,CAAP,CACD,CACF,CACF,CAZD,CAcA,GAAMc,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,GAAMN,CAAAA,SAAS,CAAGN,QAAQ,CAACI,OAAT,CAAiBG,qBAAjB,GAAyCC,KAA3D,CACAR,QAAQ,CAACI,OAAT,CAAiBK,KAAjB,CAAuBC,UAAvB,CAAoC,iBAApC,CACA,GAAIZ,IAAI,GAAK,CAAb,CAAgB,CACdE,QAAQ,CAACI,OAAT,CAAiBK,KAAjB,CAAuBE,SAAvB,uBAAkDL,SAAS,EAAIL,QAAQ,CAAG,CAAf,CAA3D,QACAF,OAAO,CAACE,QAAD,CAAP,CACD,CAHD,IAGO,CACLD,QAAQ,CAACI,OAAT,CAAiBK,KAAjB,CAAuBE,SAAvB,uBAAkDL,SAAS,EAAIR,IAAI,CAAG,CAAX,CAA3D,QACAC,OAAO,CAACD,IAAI,CAAG,CAAR,CAAP,CACD,CACF,CAVD,CAYA,mBACE,aAAK,SAAS,CAAC,UAAf,wBACE,YAAK,GAAG,CAAEE,QAAV,CAAoB,SAAS,CAAC,qBAA9B,UAEIH,IAAI,CAACgB,GAAL,CAAS,SAACC,EAAD,qBAAQ,KAAC,YAAD,EAA8B,OAAO,CAAEA,EAAvC,EAAmBA,EAAE,CAACC,MAAtB,CAAR,EAAT,CAFJ,EADF,cAME,aAAK,SAAS,CAAC,gBAAf,wBACE,eAAQ,OAAO,CAAEH,YAAjB,CAA+B,IAAI,CAAC,QAApC,CAA6C,SAAS,CAAC,qBAAvD,eADF,cAEE,eAAQ,OAAO,CAAET,QAAjB,CAA2B,IAAI,CAAC,QAAhC,CAAyC,SAAS,CAAC,sBAAnD,eAFF,GANF,GADF,CAaD,CA5CD,CAkDA,cAAeP,CAAAA,QAAf","sourcesContent":["import { useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport '../styles/Carousel.css';\nimport CarouselItem from './CarouselItem';\n\nconst Carousel = ({ data }) => {\n  const [page, setPage] = useState(1);\n  const itemsRef = useRef();\n  const maxPages = data.length / 5;\n\n  const nextPage = () => {\n    if (itemsRef.current.children.length > 0) {\n      const slideSize = itemsRef.current.getBoundingClientRect().width;\n      itemsRef.current.style.transition = '1s ease-out all';\n      if (page === maxPages) {\n        itemsRef.current.style.transform = 'translateX(0px)';\n        setPage(1);\n      } else {\n        itemsRef.current.style.transform = `translateX(-${slideSize * page}px)`;\n        setPage(page + 1);\n      }\n    }\n  };\n\n  const previousPage = () => {\n    const slideSize = itemsRef.current.getBoundingClientRect().width;\n    itemsRef.current.style.transition = '1s ease-out all';\n    if (page === 1) {\n      itemsRef.current.style.transform = `translateX(-${slideSize * (maxPages - 1)}px)`;\n      setPage(maxPages);\n    } else {\n      itemsRef.current.style.transform = `translateX(-${slideSize * (page - 2)}px)`;\n      setPage(page - 1);\n    }\n  };\n\n  return (\n    <div className=\"carousel\">\n      <div ref={itemsRef} className=\"carousel__listitems\">\n        {\n          data.map((el) => <CarouselItem key={el.mal_id} element={el} />)\n        }\n      </div>\n      <div className=\"carousel__menu\">\n        <button onClick={previousPage} type=\"button\" className=\"carousel__menu-left\">&lt;</button>\n        <button onClick={nextPage} type=\"button\" className=\"carousel__menu-right\">&gt;</button>\n      </div>\n    </div>\n  );\n};\n\nCarousel.propTypes = {\n  data: PropTypes.array.isRequired,\n};\n\nexport default Carousel;\n"]},"metadata":{},"sourceType":"module"}